---
title: Shell之字符串截取
date: 2017-01-12 10:59:02
categories: Mac
tags: shell字符串
---
Linux下写shell脚本，总是避免不了和字符串打交道，shell不想其他高级语言有很多现成的api对字符串进行处理，但是shell下不会字符串的处理，你就放弃shell脚本的编写吧。
下边总结一下shell中对字符串的常见用法:
假设有变量 var="http://www.163.com/123.html"
1. \#号截取:  删除左边字符，保留右边字符
    `echo ${var#*//}` //删除http://  输出结果为:www.163.com/123.html
    其中 var 是变量名，# 号是运算符，*// 表示从左边开始删除第一个 // 号及左边的所有字符    
2. \#\#号截取: 从左边开始删除最后一个指定符号左边的字符，保留指定符号右边的字符
    `echo ${var##*/}` 
\#\#\*/ 表示从左边开始删除最后（最右边）一个 / 号及左边的所有字符
即删除 http://www.163.com/
结果是 123.htm
3. %号截取，删除右边字符，保留左边字符
    `echo ${var%/*}`
%/* 表示从右边开始，删除第一个 / 号及右边的字符
结果是：http://www.163.com    
4.  %% 号截取，删除右边字符，保留左边字符
    `echo ${var%%/*}` 
%%/* 表示从右边开始，删除最后（最左边）一个 / 号及右边的字符
结果是：http:
5. :startIndex:num 从左边第几个字符开始，及字符的个数
    `echo ${var:0:5}`
其中的 0 表示左边第一个字符开始，5 表示字符的总个数。
结果是：http:
6. :startIndex 从左边第几个字符开始，一直到结束。
    `echo ${var:7}`
其中的 7 表示左边第8个字符开始，一直到结束。
结果是 ：www.163.com/123.htm
7. :0-rightStartIndex:num     从右边第几个字符开始，及字符的个数
    `echo ${var:0-7:3}`
其中的 0-7 表示右边算起第七个字符开始，3 表示字符的个数。
结果是：123
8. :0-rightStartIndex 从右边第几个字符开始，一直到结束。
    `echo ${var:0-7}`
表示从右边第七个字符开始，一直到结束。
结果是：123.htm
`注：（左边的第一个字符是用 0 表示，右边的第一个字符用 0-1 表示）`